---
import { Icon } from "astro-icon/components";
import I18nKey from "../../i18n/i18nKey";
import { i18n } from "../../i18n/translation";
import type { getAnimeData } from "../../utils/bangumi-utils";

interface Props {
	stats: Awaited<ReturnType<typeof getAnimeData>>["stats"];
}

const { stats } = Astro.props;
---

<div class="w-full rounded-(--radius-large) p-6 md:p-9 mb-4 md:card-base">
    <div class="relative w-full">
        <div class="mb-6">
            <h1
                class="text-4xl font-bold text-black/90 dark:text-white/90 mb-2"
            >
                {i18n(I18nKey.animeTitle)}
            </h1>
        </div>

        <div
            class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-12"
            role="group"
            aria-label="Anime statistics overview"
        >
            <div
                class="bg-(--btn-regular-bg) rounded-lg h-10 px-3 flex items-center justify-between font-bold"
                role="group"
                aria-label={`Total anime count: ${stats.total}`}
            >
                <div class="flex items-center gap-2">
                    <Icon
                        name="material-symbols:bar-chart-4-bars-rounded"
                        class="text-[1.5rem] text-(--primary)"
                        aria-hidden="true"
                    />
                    <span class="text-(--btn-content) dark:text-white/75"
                        >{i18n(I18nKey.animeCountTotal)}</span
                    >
                </div>
                <span
                    class="font-bold text-(--btn-content) dark:text-white/75"
                    aria-label={`${stats.total} total anime`}
                    >{stats.total}</span
                >
            </div>

            <div
                class="bg-(--btn-regular-bg) rounded-lg h-10 px-3 flex items-center justify-between font-bold"
                role="group"
                aria-label={`Currently watching anime count: ${stats.watching}`}
            >
                <div class="flex items-center gap-2">
                    <Icon
                        name="material-symbols:play-arrow-rounded"
                        class="text-[1.5rem] text-(--primary)"
                        aria-hidden="true"
                    />
                    <span class="text-(--btn-content) dark:text-white/75"
                        >{i18n(I18nKey.animeCountWatching)}</span
                    >
                </div>
                <span
                    class="font-bold text-(--btn-content) dark:text-white/75"
                    aria-label={`${stats.watching} currently watching anime`}
                    >{stats.watching}</span
                >
            </div>

            <div
                class="bg-(--btn-regular-bg) rounded-lg h-10 px-3 flex items-center justify-between font-bold"
                role="group"
                aria-label={`Completed anime count: ${stats.completed}`}
            >
                <div class="flex items-center gap-2">
                    <Icon
                        name="material-symbols:check-circle-outline-rounded"
                        class="text-[1.5rem] text-(--primary)"
                        aria-hidden="true"
                    />
                    <span class="text-(--btn-content) dark:text-white/75"
                        >{i18n(I18nKey.animeCountCompleted)}</span
                    >
                </div>
                <span
                    class="font-bold text-(--btn-content) dark:text-white/75"
                    aria-label={`${stats.completed} completed anime`}
                    >{stats.completed}</span
                >
            </div>
        </div>
    </div>
</div>
