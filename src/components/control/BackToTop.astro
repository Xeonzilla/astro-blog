---
import { Icon } from "astro-icon/components";
---

<!-- There can't be a filter on parent element, or it will break `fixed` -->
<div
    class="w-[3.5rem] h-[3.75rem] absolute right-0 top-0 pointer-events-none hidden lg:block"
>
    <div
        id="back-to-top-btn"
        class="text-(--primary) text-4xl font-bold border-none fixed bottom-40 opacity-100 transform-[translateX(5rem)] pointer-events-auto hide flex items-center rounded-2xl overflow-hidden transition"
        onclick="backToTop()"
    >
        <button
            aria-label="Back to Top"
            class="btn-card h-[3.75rem] w-[3.75rem]"
        >
            <Icon
                name="material-symbols:keyboard-arrow-up-rounded"
                class="mx-auto"
            />
        </button>
    </div>
</div>

<style>
    #back-to-top-btn {
        contain: layout style paint;

        &.hide {
            transform: translateX(5rem) scale(0.9);
            opacity: 0;
            pointer-events: none;
        }

        &:active {
            transform: translateX(5rem) scale(0.9);
        }
    }
</style>

<script is:raw is:inline>
    function backToTop() {
        window.scroll({ top: 0, behavior: "smooth" });
    }
</script>
